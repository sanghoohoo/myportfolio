{
  "hash": "7d0abbefbf9a119adb2f5b7c3cef4397",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"HW7\"\nauthor: 'Sanghoo Ahn'\ndate: '2024-09-02'\ncategories: [bigdata]\njupyter: python3\n---\n\n\n## ADP í‘œë³¸ì ìˆ˜\n\n**2022ë…„ì— ì‹¤ì‹œëœ ADPì‹¤ê¸° ì‹œí—˜ì˜ í†µê³„íŒŒíŠ¸ í‘œì¤€ì ìˆ˜ëŠ” í‰ê· ì´ 30, í‘œì¤€í¸ì°¨ê°€ 5ì¸ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤ê³  í•œë‹¤.**\n \n- ADP ì‹¤ê¸° ì‹œí—˜ì˜ í†µê³„íŒŒíŠ¸ í‘œì¤€ì ìˆ˜ì˜ ë°€ë„í•¨ìˆ˜ë¥¼ ê·¸ë ¤ë³´ì„¸ìš”\n\n::: {#87d767a7 .cell execution_count=1}\n``` {.python .cell-code}\nfrom scipy.stats import norm\nimport numpy as np\nimport matplotlib.pyplot as plt\nk = np.linspace(10, 50, 100)\ny = norm.pdf(k, loc=30, scale=5)\nplt.plot(k, y)\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-2-output-1.png){width=579 height=411}\n:::\n:::\n\n\n- ADP ìˆ˜í—˜ìƒì„ ì„ì˜ë¡œ 1ëª…ì„ ì„ íƒí•˜ì—¬ í†µê³„ ì ìˆ˜ë¥¼ ì¡°íšŒí–ˆì„ë•Œ 45ì  ë³´ë‹¤ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì•˜ì„ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”.\n\n::: {#e44836f9 .cell execution_count=2}\n``` {.python .cell-code}\np = 1-norm.cdf(45, loc=30, scale=5)\nprint(round(p, 6))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n0.00135\n```\n:::\n:::\n\n\n- ìŠ¬í†µì´ëŠ” ìƒìœ„ 10%ì— í•´ë‹¹í•˜ëŠ” ì ìˆ˜ë¥¼ ì–»ì—ˆë‹¤ê³  í•œë‹¤ë©´, ìŠ¬í†µì´ì˜ ì ìˆ˜ëŠ” ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ë³´ì„¸ìš”.\n\n::: {#c6875123 .cell execution_count=3}\n``` {.python .cell-code}\nscore = norm.ppf(0.9, loc=30, scale=5)\nprint(round(score, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n36.408\n```\n:::\n:::\n\n\n- ìŠ¬ê¸°ë¡œìš´ í†µê³„ìƒí™œì˜ í•´ë‹¹ íšŒì°¨ ìˆ˜ê°•ìƒì€ 16ëª…ì´ì—ˆë‹¤ê³  í•œë‹¤. 16ëª…ì˜ í†µê³„ íŒŒíŠ¸ ì ìˆ˜ë¥¼ í‰ê· ë‚´ì—ˆì„ ë•Œ, ì´ í‰ê· ê°’ì´ ë”°ë¥´ëŠ” ë¶„í¬ì˜ í™•ë¥ ë°€ë„ í•¨ìˆ˜ë¥¼ 1ë²ˆì˜ ê·¸ë˜í”„ì™€ ê²¹ì³ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#559f757d .cell execution_count=4}\n``` {.python .cell-code}\nk = np.linspace(10, 50, 100)\ny = norm.pdf(k, loc=30, scale=5)\nplt.plot(k, y)\n\nX_bar = norm.pdf(k, loc=30, scale=5/np.sqrt(16))\nplt.plot(k, X_bar)\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-5-output-1.png){width=579 height=411}\n:::\n:::\n\n\n-ìŠ¬ê¸°ë¡œìš´ í†µê³„ìƒí™œ ADP ë°˜ ìˆ˜ê°•ìƒë“¤ì˜ í†µê³„ì ìˆ˜ë¥¼ í‰ê· ë‚´ì—ˆë‹¤ê³  í•  ë•Œ, ì´ ê°’ì´ 38ì ë³´ë‹¤ ë†’ê²Œ ë‚˜ì˜¬ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”.\n\n::: {#343a362a .cell execution_count=5}\n``` {.python .cell-code}\np = 1-norm.cdf(38, loc=30, scale=5/np.sqrt(16))\nprint(p)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n7.76885222819601e-11\n```\n:::\n:::\n\n\n## Covid 19 ë°œë³‘ë¥ \n\n**Covidâ€‘19ì˜ ë°œë³‘ë¥ ì€ 1%ë¼ê³  í•œë‹¤. ë‹¤ìŒì€ ì´ë²ˆ ì½”ë¡œë‚˜ ì‚¬íƒœë¡œ ì¸í•˜ì—¬ ì½”ë¡œë‚˜ ì˜ì‹¬ í™˜ìë“¤ 1,085ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ìŠ¬í†µ íšŒì‚¬ì˜ â€œë‹¤ì¡ì•„â€ í‚¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–‘ì„± ë°˜ì‘ì„ ì²´í¬í•œ ê²°ê³¼ì´ë‹¤.**\n\n::: {#0cb38560 .cell execution_count=6}\n``` {.python .cell-code}\nimport pandas as pd\npd.DataFrame({\n    \"í‚¤íŠ¸\\ì‹¤ì œ\": [\"ì–‘ì„±\", \"ìŒì„±\"],\n    \"ì–‘ì„±\": [370, 15],\n    \"ìŒì„±\": [10, 690]\n})\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>í‚¤íŠ¸\\ì‹¤ì œ</th>\n      <th>ì–‘ì„±</th>\n      <th>ìŒì„±</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ì–‘ì„±</td>\n      <td>370</td>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ìŒì„±</td>\n      <td>15</td>\n      <td>690</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n- ë‹¤ì¡ì•„ í‚¤íŠ¸ê°€ ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë¦° ì‚¬ëŒì„ ì–‘ì„±ìœ¼ë¡œ ì¡ì•„ë‚¼ í™•ë¥ ì„ ê³„ì‚°í•˜ì„¸ìš”.\n\n::: {#6db0781d .cell execution_count=7}\n``` {.python .cell-code}\n# P(í‚¤íŠ¸ ì–‘ì„±|ì‹¤ì œ ì–‘ì„±)\np = 370 / (370 + 15)\nprint(round(p, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n0.961\n```\n:::\n:::\n\n\n- ìŠ¬í†µ íšŒì‚¬ì—ì„œ ë‹¤ì¡ì•„ í‚¤íŠ¸ë¥¼ ì‚¬ìš©í•´ ì–‘ì„±ìœ¼ë¡œ ë‚˜ì˜¨ ì‚¬ëŒì´ ì‹¤ì œë¡œëŠ” ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë ¤ìˆì„ í™•ë¥ ì„ 97%ë¼ë©°, í‚¤íŠ¸ì˜ ìš°ìˆ˜ì„±ì„ ì£¼ì¥í–ˆë‹¤. ì´ ì£¼ì¥ì´ ì˜³ì§€ ì•Šì€ ì´ìœ ë¥¼ ì„œìˆ í•˜ì„¸ìš”.\n\n```\ní‘œë³¸ì§‘ë‹¨ì˜ í™•ë¥ ì¸ 0.961038961038961ê³¼ ì°¨ì´ê°€ í¼\n\n```\n\n- Covidâ€‘19 ë°œë³‘ë¥ ì„ ì‚¬ìš©í•˜ì—¬, í‚¤íŠ¸ì˜ ê²°ê³¼ê°’ì´ ì–‘ì„±ìœ¼ë¡œ ë‚˜ì˜¨ ì‚¬ëŒì´ ì‹¤ì œë¡œ ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë ¤ìˆì„ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”.\n\n$$\n\\begin{aligned}\nP(\\text{ì‹¤ì œ ì–‘ì„±} \\mid \\text{í‚¤íŠ¸ ì–‘ì„±}) &= \\frac{P(\\text{í‚¤íŠ¸ ì–‘ì„±} \\cap \\text{ì‹¤ì œ ì–‘ì„±})}{P(\\text{í‚¤íŠ¸ ì–‘ì„±})} \\\\\n&= \\frac{P(\\text{ì‹¤ì œ ì–‘ì„±}) \\cdot P(\\text{í‚¤íŠ¸ ì–‘ì„±} \\mid \\text{ì‹¤ì œ ì–‘ì„±})}\n{P(\\text{ì‹¤ì œ ì–‘ì„±}) \\cdot P(\\text{í‚¤íŠ¸ ì–‘ì„±} \\mid \\text{ì‹¤ì œ ì–‘ì„±}) + P(\\text{ì‹¤ì œ ìŒì„±}) \\cdot P(\\text{í‚¤íŠ¸ ì–‘ì„±} \\mid \\text{ì‹¤ì œ ìŒì„±})}\n\\end{aligned}\n$$\n\n::: {#f609170c .cell execution_count=8}\n``` {.python .cell-code}\np = 0.01*(370/385) / (0.01*(370/385)+0.99*(10/700))\nprint(round(p, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n0.405\n```\n:::\n:::\n\n\n## ì¹´ì´ì œê³±ë¶„í¬ì™€ í‘œë³¸ë¶„ì‚°\n\n- ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ì˜ í™•ë¥ ë°€ë„í•¨ìˆ˜ë¥¼ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#60408dfd .cell execution_count=9}\n``` {.python .cell-code}\nfrom scipy.stats import chi2\nk = np.linspace(0, 20, 100)\ny = chi2.pdf(k, df=4)\nplt.plot(k, y)\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-10-output-1.png){width=587 height=411}\n:::\n:::\n\n\n- ë‹¤ìŒì˜ í™•ë¥ ì„ êµ¬í•´ë³´ì„¸ìš”. ğ‘ƒ (3 â‰¤ ğ‘‹ â‰¤ 5)\n\n::: {#81f0b800 .cell execution_count=10}\n``` {.python .cell-code}\np = chi2.cdf(5, df=4) - chi2.cdf(3, df=4)\nprint(round(p, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n0.271\n```\n:::\n:::\n\n\n- ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ì—ì„œ í¬ê¸°ê°€ 1000ì¸ í‘œë³¸ì„ ë½‘ì€ í›„, íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#efea50a2 .cell execution_count=11}\n``` {.python .cell-code}\nimport seaborn as sns\nnp.random.seed(20240902)\nx=chi2.rvs(size=1000, df=4)\nsns.histplot(x)\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-12-output-1.png){width=593 height=411}\n:::\n:::\n\n\n- ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê°’ ì¤‘ ìƒìœ„ 5%ì— í•´ë‹¹í•˜ëŠ” ê°’ì€ ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ë³´ì„¸ìš”.\n\n::: {#0df2d022 .cell execution_count=12}\n``` {.python .cell-code}\nx = chi2.ppf(0.95, df=4)\nprint(round(x, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n9.488\n```\n:::\n:::\n\n\n- 3ë²ˆì—ì„œ ë½‘íŒ í‘œë³¸ê°’ë“¤ ì¤‘ ìƒìœ„ 5%ì— ìœ„ì¹˜í•œ í‘œë³¸ì˜ ê°’ì€ ì–¼ë§ˆì¸ê°€ìš”?\n\n::: {#70a4916a .cell execution_count=13}\n``` {.python .cell-code}\nx = np.percentile(x, 95)\nprint(round(x, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n9.488\n```\n:::\n:::\n\n\n- í‰ê· ì´ 3, í‘œì¤€í¸ì°¨ê°€ 2ì¸ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ì—ì„œ í¬ê¸°ê°€ 20ì¸ í‘œë³¸, x_1, ..., x_20,ì„ ë½‘ì€ í›„ í‘œë³¸ë¶„ì‚°ì„ ê³„ì‚°í•œ ê²ƒì„ s^2_1ì´ë¼ ìƒê°í•´ë³´ì£ . ë‹¤ìŒì„ ìˆ˜í–‰í•´ë³´ì„¸ìš”!\n\n::: {#77043848 .cell execution_count=14}\n``` {.python .cell-code}\n# ê°™ì€ ë°©ë²•ìœ¼ë¡œ 500ê°œì˜ s^2 ë“¤, s^2_1,s^2_2,...,s^2_500 ë°œìƒì‹œí‚µë‹ˆë‹¤.\nvar=[]\nfor i in range(500):\n    x=norm.rvs(size=20, loc=3, scale=2)\n    var.append(np.var(x, ddof=1))\n```\n:::\n\n\n::: {#d0513510 .cell execution_count=15}\n``` {.python .cell-code}\n# ë°œìƒí•œ 500ê°œì˜ s^2 ë“¤ ê°ê°ì— 4.75ë¥¼ ê³±í•˜ê³ , ê·¸ê²ƒë“¤ì˜ íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë³´ì„¸ìš”. (íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë¦´ ë•Œ probability = TRUE ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ê·¸ë¦´ ê²ƒ)\na=np.array(var)*4.75\nsns.histplot(a, stat=\"probability\")\n# ìœ„ì—ì„œ ê·¸ë¦° íˆìŠ¤í† ê·¸ë¨ì— ììœ ë„ê°€ 19ì¸ ì¹´ì´ì œê³±ë¶„í¬ í™•ë¥ ë°€ë„í•¨ìˆ˜ë¥¼ ê²¹ì³ê·¸ë ¤ë³´ì„¸ìš”.\nk = np.linspace(a.min(), a.max(), 100)\ny = chi2.pdf(k, df=19)\nplt.plot(k, y, color='red')\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-16-output-1.png){width=597 height=411}\n:::\n:::\n\n\n<div id=\"disqus_thread\"></div>\n<script>\nvar disqus_config = function () {\n    this.page.url = window.location.href;  // í˜„ì¬ í˜ì´ì§€ URL\n    this.page.identifier = window.location.pathname; // í˜ì´ì§€ ê³ ìœ  ì‹ë³„ì\n};\n\n(function() { // DON'T EDIT BELOW THIS LINE\n    var d = document, s = d.createElement('script');\n    s.src = 'https://sanghoohoo.disqus.com/embed.js';\n    s.setAttribute('data-timestamp', +new Date());\n    (d.head || d.body).appendChild(s);\n})();\n</script>\n<noscript>Please enable JavaScript to view the <a href=\"https://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}